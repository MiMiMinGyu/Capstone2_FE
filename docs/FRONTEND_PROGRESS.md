# LikemeLikeMe 프론트엔드 개발 진행 상황

> 최종 업데이트: 2025-11-19

## 📋 목차
1. [완료된 작업](#완료된-작업)
2. [현재 구현된 기능](#현재-구현된-기능)
3. [다음 작업](#다음-작업)
4. [미래 작업](#미래-작업)
5. [주요 기술 스택](#주요-기술-스택)
6. [프로젝트 구조](#프로젝트-구조)

---

## ✅ 완료된 작업

### 1. 인증 시스템 (Auth)
#### 로그인 페이지 (`src/pages/auth/LoginPage.jsx`)
- ✅ 이메일/비밀번호 로그인 폼
- ✅ JWT 토큰 관리 (access_token, refresh_token)
- ✅ 로그인 성공 시 환영 알림: "환영합니다 {닉네임}님!"
- ✅ 로그인 후 메인 페이지(`/`)로 자동 리다이렉트
- ✅ 우측 상단 X 버튼으로 메인 페이지 이동
- ✅ X 버튼 호버 시 90도 회전 애니메이션
- ✅ UserSpoon 디자인 참고한 깔끔한 UI

#### 회원가입 페이지 (`src/pages/auth/SignupPage.jsx`)
- ✅ 이메일/비밀번호/닉네임 입력
- ✅ 회원가입 후 자동 로그인
- ✅ 로그인 페이지와 동일한 디자인 패턴
- ✅ 우측 상단 X 버튼으로 메인 페이지 이동

#### 비인증 페이지 (`src/pages/auth/UnauthenticatedPage.jsx`)
- ✅ 로그인하지 않은 사용자가 보호된 라우트 접근 시 표시
- ✅ 🔒 아이콘과 "로그인이 필요합니다" 메시지
- ✅ 로그인 버튼으로 로그인 페이지 이동
- ⚠️ **임시 디자인** - 추후 재디자인 예정

### 2. 헤더 컴포넌트 (`src/components/layout/Header.jsx`)
- ✅ 모든 페이지에서 재사용 가능한 레이아웃 컴포넌트
- ✅ 로고 클릭 시 메인 페이지 이동
- ✅ 4개 네비게이션 메뉴:
  - 채팅 (현재 구현됨)
  - 카카오톡 업로드 (예정)
  - 내 말투 설정 (예정)
  - 설정 (예정)
- ✅ 동적 로그인/로그아웃 버튼
  - 로그인 상태: "로그아웃" 표시
  - 비로그인 상태: "로그인" 표시
- ✅ 현재 페이지 활성 메뉴 하이라이팅 (검은색, 굵은 글꼴)
  - 로그인 상태일 때만 활성 표시
- ✅ 로그아웃 시 알림: "{닉네임}님, 로그아웃되었습니다."
- ✅ 로그아웃 후 페이지 완전 리로드로 상태 초기화
- ✅ 비로그인 시 네비게이션 클릭하면 로그인 필요 알림

### 3. 메인 페이지 (`src/pages/main/MainPage.jsx`)
- ✅ 2단 레이아웃:
  - 좌측: 대화 상대 목록 (30-35%)
  - 우측: 채팅 영역 (65-70%)
- ✅ Telegram 메시지 가져오기 (`GET /telegram/messages`)
- ✅ 사용자별 대화 그룹핑
- ✅ 각 대화의 마지막 메시지 표시
- ✅ 읽지 않은 메시지 수 배지 표시
- ✅ 상대 시간 표시 (오늘/어제/날짜)
- ✅ SSE(Server-Sent Events)로 실시간 메시지 업데이트
  - 엔드포인트: `/telegram/events`
  - 새 메시지 도착 시 자동 목록 갱신

### 4. 라우팅 (`src/router/index.jsx`)
- ✅ React Router v6 설정
- ✅ 보호된 라우트 (ProtectedRoute) 구현
- ✅ 라우트 구조:
  - `/login` - 로그인 페이지 (공개)
  - `/signup` - 회원가입 페이지 (공개)
  - `/` - 메인 페이지 (보호됨)
  - `/chat/:userId` - 개별 채팅 페이지 (보호됨, 구현 예정)
  - `*` - 존재하지 않는 경로는 메인으로 리다이렉트

### 5. API 클라이언트 (`src/api/clients/http.js`)
- ✅ Axios 인스턴스 설정
- ✅ 요청 인터셉터: JWT 토큰 자동 주입
- ✅ 응답 인터셉터: 토큰 만료 시 자동 갱신
- ✅ 에러 핸들링

---

## 🎨 현재 구현된 기능

### 사용자 플로우
1. **비로그인 사용자**
   - 메인 페이지 접근 → UnauthenticatedPage 표시
   - 로그인/회원가입 가능

2. **로그인 사용자**
   - 메인 페이지에서 대화 목록 확인
   - 실시간으로 새 메시지 수신
   - 헤더에서 현재 페이지 확인 가능 (검은색 하이라이팅)
   - 로그아웃 가능

### UI/UX 특징
- ✅ 일관된 디자인 시스템
- ✅ 시스템 폰트 사용: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`
- ✅ CSS 모듈로 스타일 격리
- ✅ 부드러운 hover/active 효과
- ✅ 모던하고 깔끔한 인터페이스
- ✅ 반응형 레이아웃

---

## 🚀 다음 작업

### 1️⃣ 채팅 페이지 API 연동 (최우선 작업)
**목표**: `/chat/:userId` 라우트에서 1:1 채팅 기능 구현

#### 구현할 기능
1. **메시지 히스토리 표시**
   - API: `GET /telegram/messages?userId={userId}`
   - 특정 사용자와의 대화 내역 조회
   - 시간순 정렬 및 표시

2. **AI 추천 답변 표시**
   - API: `POST /telegram/recommendations`
   - 요청 바디:
     ```json
     {
       "userId": 123456789,
       "message": "사용자가 보낸 메시지"
     }
     ```
   - 응답: 3개의 추천 답변
   - UI: 추천 답변 선택 버튼

3. **답변 전송**
   - API: `POST /telegram/reply`
   - 요청 바디:
     ```json
     {
       "userId": 123456789,
       "message": "선택한 답변"
     }
     ```
   - 전송 후 메시지 목록 갱신

4. **실시간 업데이트**
   - 기존 SSE 연결 활용
   - 새 메시지 도착 시 채팅창 자동 갱신

#### 예상 파일 구조
```
src/pages/chat/
├── ChatPage.jsx              # 메인 채팅 페이지
├── ChatPage.module.css       # 스타일
├── components/
│   ├── MessageList.jsx       # 메시지 목록 컴포넌트
│   ├── RecommendationPanel.jsx  # AI 추천 답변 패널
│   └── ChatInput.jsx         # 채팅 입력 (필요시)
```

#### 디자인 가이드라인
- ✅ 기존 UI 디자인 패턴 유지
- ✅ 시스템 폰트 사용
- ✅ CSS 모듈 방식
- ✅ 헤더 컴포넌트 재사용
- ✅ 메인 페이지와 일관된 레이아웃

---

## 📅 미래 작업

### 2️⃣ 카카오톡 업로드 기능
**현재 상태**: 헤더에서 클릭 시 "카카오톡 업로드 기능은 곧 구현될 예정입니다" 알림

**구현 예정**:
- 카카오톡 대화 파일 업로드 모달
- 파일 파싱 및 백엔드 전송
- 업로드 진행 상태 표시
- 성공/실패 피드백

### 3️⃣ 내 말투 설정 기능
**현재 상태**: 헤더에서 클릭 시 "말투 설정 기능은 곧 구현될 예정입니다" 알림

**구현 예정**:
- 말투 스타일 선택 UI
- AI 답변 톤 조정 옵션
- 미리보기 기능
- 설정 저장

### 4️⃣ 설정 페이지/모달
**현재 상태**: 헤더에서 클릭 시 "설정 기능은 곧 구현될 예정입니다" 알림

**구현 예정**:
- 프로필 정보 수정
- 비밀번호 변경
- 알림 설정
- 계정 관리

### 5️⃣ UnauthenticatedPage 재디자인
**현재 상태**: 임시 디자인

**재디자인 방향**:
- 더 매력적인 비주얼
- 서비스 소개 추가
- 주요 기능 미리보기
- 회원가입 유도 개선

### 6️⃣ 추가 기능
- 메시지 검색
- 대화 삭제
- 읽음 표시
- 타이핑 인디케이터
- 이미지/파일 전송
- 다크 모드

---

## 🛠 주요 기술 스택

### 프론트엔드
- **React 18** - UI 라이브러리
- **React Router v6** - 라우팅
- **Axios** - HTTP 클라이언트
- **CSS Modules** - 스타일 관리
- **Vite** - 빌드 도구 (추정)

### 백엔드 연동
- **REST API** - 주요 통신 방식
- **JWT** - 인증 (access_token 15분, refresh_token 30일)
- **SSE (Server-Sent Events)** - 실시간 메시지 업데이트

### 주요 라이브러리
```json
{
  "react": "^18.x",
  "react-dom": "^18.x",
  "react-router-dom": "^6.x",
  "axios": "^1.x"
}
```

---

## 📁 프로젝트 구조

```
src/
├── api/
│   └── clients/
│       └── http.js                    # Axios 인스턴스 및 인터셉터
│
├── components/
│   └── layout/
│       ├── Header.jsx                 # 공용 헤더 컴포넌트
│       └── Header.module.css
│
├── pages/
│   ├── auth/
│   │   ├── LoginPage.jsx              # 로그인 페이지
│   │   ├── LoginPage.module.css
│   │   ├── SignupPage.jsx             # 회원가입 페이지
│   │   ├── SignupPage.module.css
│   │   ├── UnauthenticatedPage.jsx    # 비인증 사용자 페이지 (임시)
│   │   └── UnauthenticatedPage.module.css
│   │
│   ├── main/
│   │   ├── MainPage.jsx               # 메인 페이지 (대화 목록)
│   │   └── MainPage.module.css
│   │
│   └── chat/
│       └── index.jsx                  # 개별 채팅 페이지 (구현 예정)
│
├── router/
│   ├── index.jsx                      # 라우트 설정
│   └── ProtectedRoute.jsx             # 인증 보호 라우트
│
├── App.jsx                            # 앱 루트 컴포넌트
└── main.jsx                           # 엔트리 포인트
```

---

## 🎯 설계 원칙

### 1. 일관성 유지
- 모든 페이지에서 동일한 디자인 패턴 사용
- 시스템 폰트로 통일
- 색상 팔레트 일관성
- 컴포넌트 재사용 극대화

### 2. 사용자 경험
- 명확한 피드백 (알림, 로딩 상태)
- 직관적인 네비게이션
- 부드러운 애니메이션
- 접근성 고려

### 3. 코드 품질
- CSS 모듈로 스타일 격리
- 명확한 파일 구조
- 재사용 가능한 컴포넌트
- 타입 안정성 (추후 TypeScript 마이그레이션 고려)

### 4. 보안
- JWT 토큰 관리
- 보호된 라우트
- XSS 방지
- CSRF 방지

---

## 📝 주요 개발 노트

### 인증 플로우
1. 로그인 성공 → `localStorage`에 토큰 저장
2. 모든 API 요청에 `Authorization: Bearer {token}` 헤더 자동 추가
3. 토큰 만료 시 자동 갱신 (refresh_token 사용)
4. 갱신 실패 시 로그아웃 및 로그인 페이지 리다이렉트

### 실시간 메시지
- SSE 연결: `GET /telegram/events`
- 연결 유지 및 자동 재연결
- 새 메시지 이벤트 수신 시 목록 갱신
- 컴포넌트 언마운트 시 연결 종료

### 상태 관리
- 현재: React의 `useState`, `useEffect` 사용
- 추후: Context API 또는 상태 관리 라이브러리 고려 (Redux, Zustand 등)

---

## ⚠️ 알려진 이슈 및 개선 사항

### 현재 제한사항
1. **UnauthenticatedPage 임시 디자인** - 추후 재디자인 필요
2. **에러 핸들링 개선** - 더 상세한 에러 메시지 및 복구 로직 필요
3. **로딩 상태** - 일부 페이지에서 로딩 인디케이터 누락
4. **반응형 디자인** - 모바일 최적화 필요
5. **접근성** - ARIA 레이블 및 키보드 네비게이션 개선

### 개선 예정
- [ ] TypeScript 마이그레이션
- [ ] 단위 테스트 추가
- [ ] 통합 테스트 추가
- [ ] 성능 최적화 (코드 스플리팅, 레이지 로딩)
- [ ] PWA 지원
- [ ] 다국어 지원 (i18n)

---

## 📚 참고 문서

- [API 명세서](./API_SPECIFICATION.md)
- [프론트엔드 API 가이드](./FRONTEND_API_GUIDE.md)
- [데이터베이스 스키마](./DB_SCHEMA.md)
- [디자인 가이드](./design/)

---

## 👥 개발 히스토리

### Session 1 (2025-11-19)
- ✅ 로그인/회원가입 페이지 완성
- ✅ UserSpoon 디자인 참고
- ✅ JWT 인증 시스템 구현

### Session 2 (2025-11-19)
- ✅ 메인 페이지 구현 (대화 목록)
- ✅ 헤더 컴포넌트 모듈화
- ✅ 인증 플로우 개선 (알림, 리다이렉트)
- ✅ 활성 메뉴 하이라이팅
- ✅ UnauthenticatedPage 구현
- ✅ SSE 실시간 메시지 연동
- ✅ 로그인/회원가입 페이지 X 버튼 디자인 개선

---

**다음 작업**: 채팅 페이지 API 연동 🚀
